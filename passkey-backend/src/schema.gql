# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AuthenticationOptionsDTO {
  allowCredentials: [CredentialDTO!]!
  challenge: String!
  challengeId: String!
  rpId: String!
  timeout: Int!
  userVerification: RequiredLevel!
}

type AuthenticatorSelectionDTO {
  residentKey: RequiredLevel!
  userVerification: RequiredLevel!
}

type Credential {
  createdAt: DateTime!
  device: String!
  id: String!
  publicKey: String!
}

type CredentialDTO {
  id: String!
  transports: [String!]!
  type: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

type LoginPayload {
  accessToken: String!
  accessTokenTTLSec: Float!
  refreshToken: String!
  refreshTokenTTLSec: Float!
  user: UserInfo!
}

type Mutation {
  finishPasskeyAuthentication(authenticationResponse: JSON!, challengeId: String!): LoginPayload!
  finishPasskeyRegistration(challengeId: String!, device: String!, registrationResponse: JSON!): SuccessResult!
  login(password: String!, username: String!): LoginPayload!
  logout(refreshToken: String!): MutationResult!
  refresh(refreshToken: String!): RefreshPayload!
  register(password: String!, username: String!): LoginPayload!
  startPasskeyAuthentication(username: String!): AuthenticationOptionsDTO!
  startPasskeyRegistration: RegistrationOptionsDTO!
}

type MutationResult {
  ok: Boolean!
}

type PublicKeyParamsDTO {
  alg: Int!
  type: String!
}

type Query {
  """Get user by ID"""
  user(id: String!): User!
}

type RefreshPayload {
  accessToken: String!
  accessTokenTTLSec: Float!
}

type RegistrationOptionsDTO {
  authenticatorSelection: AuthenticatorSelectionDTO!
  challenge: String!
  challengeId: String!
  pubKeyCredParams: [PublicKeyParamsDTO!]!
  rp: RpEntityDTO!
  timeout: Int!
  user: UserEntityDTO!
}

"""Is option required as defined by WebAuthn"""
enum RequiredLevel {
  Discouraged
  Preferred
  Required
}

type RpEntityDTO {
  id: String!
  name: String!
}

type SuccessResult {
  ok: Boolean!
}

type User {
  credentials: [Credential!]!
  id: ID!
  username: String!
}

type UserEntityDTO {
  displayName: String!
  id: String!
  name: String!
}

type UserInfo {
  id: ID!
  username: String!
}